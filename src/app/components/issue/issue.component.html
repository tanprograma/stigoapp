<div class="issue">
  <div class="issue-container" *ngFor="let item of appData.requested">
    <div class="primary">
      <table>
        <thead>
          <tr>
            <th>date</th>
            <th>id</th>
            <th>from</th>
            <th>destination</th>
            <th>commodities</th>
            <th>status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{ convertDate(item.request_date) }}</td>
            <td>{{ item.id }}</td>
            <td>{{ item.host }}</td>
            <td>{{ item.destination }}</td>
            <td>{{ item.commodities.length }}</td>
            <th>{{ item.isIssued ? "issued" : "pending" }}</th>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="secondary">
      <button class="inspectbtn" (click)="inspect(item)">
        {{ item.inspect ? "CLOSE" : "INSPECT" }}
      </button>
      <button class="issuebtn" (click)="IssueService.postIssue(item)">
        ISSUE
      </button>
    </div>
    <div class="primary tertiary" *ngIf="item.inspect">
      <table>
        <thead>
          <tr>
            <th>commodity</th>
            <th>requested</th>
            <th>issue</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let commodityItem of item.commodities">
            <td>{{ commodityItem.commodity }}</td>
            <td>{{ commodityItem.requested }}</td>
            <td><input type="number" [(ngModel)]="commodityItem.issued" /></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
